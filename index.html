<!DOCTYPE html>
<html>
  <head>
    <title>Ajax Test</title>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <style>
section {
  width: 100%;
}
li {
  height: 40px;
}
div {
  width: 40%;
  float: left;
}
img {
  display: block;
}
    </style>
  </head>
  <body id='body'>
    <h1>Ajax Test</h1>
    <button id='go'>Go</button>
    <section>
      <div>
        <ul id='result'></ul>
      </div>
      <div id='image'></div>
    </section>
    <script>
    $(function () {
      var which = 0,
          sources = [ 'test.json', 'beaker.json', 'test.txt', 'missing' ];
      
      $('#go').on('click', function (data) {
        if (which === sources.length) {
          which = 0;
        }

        $.getJSON(sources[which++], function (data) {
          if (data.type && data.data) {
            $('#image').append(
              '<img src="' +
              'data:' + data.type +
              ';base64,' + data.data + '" />');
          } else if (data.message) {
            $('#result').append('<li>' + data.message.trim() + '</li>');
          }
        }).fail(function (jqXHR, textStatus, errorThrown) {
          if (jqXHR.status === 200) {
              $('#result').append('<li>Invalid Response</li>');
          } else {
            $('#result').append('<li>No Response</li>');
          }
        });
      });
    });
    </script>
  </body>
</html>